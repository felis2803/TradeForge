# Мини-фикстуры для примеров

Здесь можно хранить небольшие JSONL-файлы для сценариев. Каталог не предназначен для больших датасетов — кладите сюда только крошечные выборки, которые удобно версионировать вместе с кодом.

## Ожидаемые форматы

- `*.jsonl` — обычный NDJSON.
- `*.jsonl.gz` — gzip-архив с NDJSON.
- `*.jsonl.zip` — zip-архив с единственным JSONL-файлом (поддерживается `createJsonlCursorReader`).

## Переменные окружения

- `TF_TRADES_FILES` — список путей/глобов с трейдами. Примеры: `examples/_smoke/mini-trades.jsonl`, `data/**/*.trades.jsonl`.
- `TF_DEPTH_FILES` — список путей/глобов с обновлениями стакана.
- `TF_CP_PATH` — путь для сохранения чекпоинта (используется автосейвом).
- `TF_TIME_FROM` / `TF_TIME_TO` — ограничения по времени (миллисекунды или ISO-строка).
- `TF_TIE_BREAK` — настройка tie-break при одинаковых таймстампах (`DEPTH` или `TRADES`).

## Советы

- В сценариях предпочтительно использовать `_shared/readers.ts` и `_shared/merge.ts` — они уже учитывают переменные окружения и поддерживают JSONL/GZ/ZIP.
- Для генерации быстрых списков файлов можно использовать скрипт [`_shared/bin/find-files.ts`](../bin/find-files.ts).
- Если нужен краткий отчёт по прогрессу или чекпоинту — воспользуйтесь [`_shared/bin/print-summary.ts`](../bin/print-summary.ts).
